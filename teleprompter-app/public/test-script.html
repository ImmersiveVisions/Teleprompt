<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Test Script</title>
  <!-- Teleprompter font size adjustment script -->
  <script src="/teleprompter-font.js" defer></script>
  <style type="text/css">
    * {margin:0; padding:0; text-indent:0; }
    .p, p { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; margin:0pt; }
    .s1 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; vertical-align: 1pt; }
  
/* Base styles for teleprompter */
body, html {
  background-color: black !important;
  margin: 0 !important;
  padding: 0 !important;
  color: white !important;
  font-family: 'Courier New', monospace !important;
}

/* Character names */
p[style*="padding-left: 166pt"], 
p[style*="padding-left: 165pt"], 
p[style*="padding-left: 178pt"],
p[style*="padding-left: 142pt"],
p[style*="padding-left: 40pt"],
p[style*="padding-left: 84pt"],
p[style*="padding-left: 65pt"],
p[style*="padding-left: 77pt"],
p[style*="padding-left: 91pt"],
p[style*="padding-left: 104pt"],
p[style*="padding-left: 83pt"] {
  color: #FFD700 !important; /* Gold color for character names */
  font-weight: bold !important;
  margin-bottom: 0 !important;
  text-align: center !important;
}

/* Dialog text */
p[style*="padding-left: 94pt"],
p[style*="padding-left: 93pt"] {
  color: white !important;
  margin-top: 0 !important;
  margin-bottom: 1em !important;
  text-align: center !important;
}

/* Parentheticals in dialog */
p[style*="padding-left: 123pt"],
p[style*="padding-left: 129pt"],
p[style*="padding-left: 121pt"],
p[style*="padding-left: 122pt"],
p[style*="padding-left: 144pt"],
p[style*="padding-left: 157pt"],
p[style*="padding-left: 136pt"],
p[style*="padding-left: 150pt"],
p[style*="padding-left: 142pt"] {
  color: #BBBBBB !important; /* Light gray for parentheticals */
  font-style: italic !important;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  text-align: center !important;
}

/* Scene headings */
p[style*="padding-left: 22pt"] {
  color: #ADD8E6 !important; /* Light blue for scene headings */
  font-weight: bold !important;
  margin-top: 1.5em !important;
  margin-bottom: 0.5em !important;
  text-align: center !important;
}

/* Transitions */
p[style*="text-align: right"] {
  color: #FFA07A !important; /* Light salmon for transitions */
  font-weight: bold !important;
  text-transform: uppercase !important;
  margin-top: 1em !important;
  margin-bottom: 1em !important;
  text-align: center !important;
}

/* Film clip markers */
p:contains("FILM CLIP") {
  background-color: #007bff !important;
  color: white !important;
  padding: 0.5rem 1rem !important;
  margin: 1.5rem auto !important;
  font-weight: bold !important;
  border-radius: 4px !important;
  text-align: center !important;
  max-width: 80% !important;
  display: inline-block !important;
}

/* General paragraph and text styling */
p, .p {
  line-height: 1.5 !important;
  margin-bottom: 0.5em !important;
  color: white !important;
}

/* Empty paragraphs and line breaks */
p:empty, br {
  display: block;
  height: 1em;
}

/* Text styling */
b, strong {
  font-weight: bold !important;
}

i, em {
  font-style: italic !important;
}

u {
  text-decoration: underline !important;
}

  </style>
</head>
<body style="background-color: black !important; color: white !important;">
  <p style="padding-top: 4pt;padding-left: 139pt;text-indent: -9pt;line-height: 177%;text-align: left;">TEST SCRIPT TITLE</p>
  
  <p style="padding-top: 11pt;text-indent: 0pt;text-align: right;">FADE IN:</p>
  
  <p style="padding-top: 8pt;text-indent: 0pt;text-align: left;"><br/></p>
  
  <p style="padding-left: 22pt;text-indent: 0pt;text-align: left;">SCENE HEADING</p>
  
  <p style="padding-top: 10pt;text-indent: 0pt;text-align: right;">CUT TO:</p>
  
  <p style="padding-top: 8pt;text-indent: 0pt;text-align: left;"><br/></p>
  
  <p style="padding-left: 22pt;text-indent: 0pt;text-align: left;">INT. ROOM - DAY</p>
  
  <p style="padding-top: 10pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">A character stands in the center of the room.</p>
  
  <p style="padding-top: 10pt;padding-left: 166pt;text-indent: 0pt;line-height: 13pt;text-align: left;">CHARACTER</p>
  
  <p style="padding-left: 94pt;text-indent: 0pt;line-height: 88%;text-align: left;">This is my dialog line. It should appear in white.</p>
  
  <p style="padding-top: 10pt;padding-left: 166pt;text-indent: 0pt;line-height: 13pt;text-align: left;">ANOTHER CHARACTER</p>
  
  <p style="padding-left: 123pt;text-indent: 0pt;line-height: 12pt;text-align: left;">(nervously)</p>
  
  <p style="padding-left: 94pt;text-indent: 0pt;line-height: 88%;text-align: left;">This is a response with a parenthetical.</p>
  
  <p style="padding-top: 12pt;padding-left: 22pt;text-indent: 0pt;line-height: 88%;text-align: left;">FILM CLIP: A test film clip marker that should be highlighted.</p>
  
  <p style="padding-top: 10pt;text-indent: 0pt;text-align: right;">DISSOLVE TO:</p>
  
  <p style="padding-top: 10pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">THE END</p>

  <!-- Font size test buttons -->
  <div style="position: fixed; top: 10px; right: 10px; background: rgba(0,0,0,0.5); padding: 10px; border-radius: 5px;">
    <button onclick="setTeleprompterFontSize(16)" style="margin: 5px; padding: 5px 10px;">Small (16px)</button>
    <button onclick="setTeleprompterFontSize(24)" style="margin: 5px; padding: 5px 10px;">Medium (24px)</button>
    <button onclick="setTeleprompterFontSize(32)" style="margin: 5px; padding: 5px 10px;">Large (32px)</button>
    <button onclick="setTeleprompterFontSize(48)" style="margin: 5px; padding: 5px 10px;">XL (48px)</button>
  </div>

  <!-- Debug info panel -->
  <div id="debug-info" style="position: fixed; bottom: 10px; left: 10px; background: rgba(0,0,0,0.7); color: lime; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 12px; max-width: 80%;">
    Font size: <span id="current-size">24</span>px
  </div>

  <script>
    // Update debug info when font size changes
    const originalSetFontSize = window.setTeleprompterFontSize;
    
    if (originalSetFontSize) {
      window.setTeleprompterFontSize = function(size) {
        document.getElementById('current-size').textContent = size;
        originalSetFontSize(size);
      };
    }

    // Listen for postMessage events 
    window.addEventListener('message', function(event) {
      console.log('[test-script.html] Received message:', event.data);
      
      if (event.data && event.data.type === 'SET_FONT_SIZE') {
        document.getElementById('current-size').textContent = event.data.fontSize;
      }
    });
  </script>
</body>
</html>